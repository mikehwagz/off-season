---
layout: baseSidebar.njk
permalink: /project/{{ project.slug }}/
pagination:
  alias: project
  data: projects
  size: 1
renderData:
  title: "{{ project.title }}"
---
<div class="abs fill" data-router-view="default">

  {% if project.password | length %}
    <div class="fix fill bg-gray df jcc aic ph20 z10" data-component="password">
      <form
        class="signup__form x df max-w500 js-form"
        autocomplete="off"
      >
        <input
          class="signup__input x bb pv5"
          name="password"
          type="password"
          aria-label="Password"
          placeholder="Password"
          required
        >
        <div>
          <input name="hp" type="text" value="{% encode project.password %}" hidden>
        </div>
        <button class="signup__submit bb pv5 ph15" type="submit" aria-label="submit">
          <div class="signup__arrow rel">
            {% include 'arrowRight.njk' %}
          </div>
        </button>
      </form>
    </div>
  {% endif %}

  {% set active = 0 %}
  {% set total = site.pages | length %}
  {% set diff = total - active %}
  
  {% include 'nav.njk' %}

  <div class="abs fill oy js-scroll">
    <div
      class="x min-vh100"
      style="padding-left: {{ 5.5 * active }}rem; padding-right: {{ 5.5 * diff }}rem;"
    >
      <div class="pt30 js-inner">
        <h1
          class="sans f92 lh102 wct pt15 mb35 ph115 js-title"
          style="color: {{ project.themeColor }}"
        >
          {{ project.title }}
        </h1>
        <div class="wcto js-content">
          <div class="ph115">
            {% if project.introText.content %}
              <div class="f24 lh125 mb50">
                {% blocksToHtml project.introText.content %}
              </div>
            {% endif %}
            <ul class="colophon pb40">
              {% if project.roles %}
                <li class="colophon__item mb30">
                  <h3 class="f18 lh133 ttu mb10">Our Role</h3>
                  <div class="f18 lh133">
                    {% set comma = joiner() %}
                    {% for role in project.roles -%}
                      {{ comma() }} {{ role }}
                    {%- endfor %}
                  </div>
                </li>
              {% endif %}
              {% if project.management.content %}
                <li class="colophon__item mb30">
                  <h3 class="f18 lh133 ttu mb10">Management</h3>
                  <div class="f18 lh133">
                    {% blocksToHtml project.management.content %}
                  </div>
                </li>
              {% endif %}
              {% if project.year %}
                <li class="colophon__item mb30">
                  <h3 class="f18 lh133 ttu mb10">Year</h3>
                  <div class="f18 lh133">{{ project.year }}</div>
                </li>
              {% endif %}
              {% if project.team.content %}
                <li class="colophon__item mb30">
                  <h3 class="f18 lh133 ttu mb10">Team</h3>
                  <div class="f18 lh133">
                    {% blocksToHtml project.team.content %}
                  </div>
                </li>
              {% endif %}
            </ul>
          </div>
          <div class="modules">
            {% set modules = project.contentModules %}
            {% include 'contentModules.njk' %}
          </div>

          {% set nextProjectSlug %}{% nextProjectSlug project.slug, selectedProjects %}{% endset %}
          {% set nextProjectTitle %}{% nextProjectTitle project.slug, selectedProjects %}{% endset %}
          {% set nextProjectColor %}{% nextProjectColor project.slug, selectedProjects %}{% endset %}

          {% if nextProjectSlug | length %}
            <div class="pt40 pb180 ph115">
              <div class="f18 lh133 ttu df aic mb50">
                Next project
                <div class="signup__arrow ml20">
                  {% include 'arrowRight.njk' %}
                </div>
              </div>
              <style>
                #pagi-{{ nextProjectSlug }}:hover,
                #pagi-{{ nextProjectSlug }}:focus {
                  color: {{ nextProjectColor }};
                }
              </style>
              <a
                id="pagi-{{ nextProjectSlug }}"
                class="sans f92 lh102 wct pt15"
                href="/project/{{ nextProjectSlug }}"
                data-transition="toProject"
              >
                {{ nextProjectTitle }}
              </a>
            </div>
          {% endif %}

        </div>
      </div>
    </div>
    {% include 'footer.njk' %}
  </div>
</div>